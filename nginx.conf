server {
    # üö® CAMBIO CR√çTICO PARA CLOUD RUN:
    # Debes escuchar en el puerto 8080 (que es el valor de la variable de entorno PORT).
    listen 8080;
    server_name _;

    root /usr/share/nginx/html;
    index index.html;

    # Si hay un archivo est√°tico lo sirve, si no existe devuelve index.html (SPA fallback)
    location / {
        try_files $uri $uri/ /index.html;
    }

    # Sirve assets est√°ticos con cache (Configuraci√≥n existente)
    location ~* \.(?:css|js|jpg|jpeg|gif|png|svg|ico|webp|ttf|woff|woff2)$ {
        try_files $uri =404;
        expires 7d;
        add_header Cache-Control "public";
    }

    # Healthcheck (opcional, √∫til para verificaciones de servicio)
    location = /health {
        access_log off;
        return 200 'OK';
        add_header Content-Type text/plain;
    }
}